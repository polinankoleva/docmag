<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta charset="UTF-8">
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">

<link href="css/bootstrap.min.css" rel="stylesheet">

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
	
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
 
 p.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	padding-left: 70px;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:BG;
	font-weight: bold;
	mso-fareast-language:BG;}
	
p.MsoNormal1
	{mso-style-unhide:no;
	text-align: center;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:BG;
	mso-fareast-language:BG;}
 
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 70.85pt 70.85pt 70.85pt;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}

div.WordSection1
	{page:WordSection1;}
	
.MsoNormal1 b span {font-size:18.0pt;}
.MsoNormal b,.MsoNormal span b,.MsoNormal1 b{mso-bidi-font-weight:normal;}
.name{width: 250px;}
#studentSpec{width: 170px;}
#fNumber{width: 70px;}
#topic{width: 635px;}

 /* List Definitions */

-->
</style>
</head>

<body lang=EN-US style='tab-interval:35.4pt'>

<div class=WordSection1>

<br /><br />

<p class=MsoNormal1>
	<b>
		<span lang=BG>Предложение </span>
	</b>
</p>

<p class=MsoNormal1>
	<b >
		<span lang=BG>за</span>
	</b>
</p>

<p class=MsoNormal1>
	<span lang=BG>възлагане на дипломна работа</span>
</p>

<p class=MsoNormal1>
	<span lang=BG>към катедра “Софтуерни технологии”,</span>
</p>

<p class=MsoNormal1>
	<span lang=BG>ФМИ, СУ “Св. Климент Охридски”</span>
</p><br /><br />

<br />

<p class=MsoNormal>
		<div class="form-inline" style='margin-left:4.4em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG>От Дипломант:</span></b>
			<span id="name"></span>
			<span lang=BG>(име),</span>
			<b><span lang=BG> специалност</span></b>
			<span id="studentSpec"></span>
			<b><span lang=RU style='mso-ansi-language:RU'>, факултетен № </span></b>
			<span id="fNumber"></span>
		</div>	
</p>
<div class="clearfix"></div>
<br /><br />
<p class=MsoNormal>
		<div class="form-inline" style='margin-left:4.4em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG>Научен ръководител:</span></b>
		<!--  	<input type="text" id="supervisorName" class="form-control" style="width:20em;"/>-->
			<select id="supervisorName" multiple class="form-control" style="width:35em;"></select>

</p>
<div class="clearfix"></div>
<br /><br />
<p class=MsoNormal>
		<div class="form-inline" style='margin-left:4.4em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG>Консултант:</span></b>
			<select id="consultant" multiple class="form-control" style="width:35em;"></select>

		</div>	
</p>
<div class="clearfix"></div>
<br /><br />

<p class=MsoNormal>
		<div class="form-group" style='margin-left:3.5em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG class="col-sm-2 control-label">Тема на дипломната работа:</span></b>
			<div class="col-sm-8">
				 <textarea id="theme" class="form-control" rows="5" cols="103"></textarea>
			</div>
		</div>
</p>
<div class="clearfix"></div>
<br /><br />

<p class=MsoNormal>
		<div class="form-group" style='margin-left:3.5em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG class="col-sm-2 control-label">Анотация:</span></b>
			<div class="col-sm-8">
				 <textarea id="annotation" class="form-control" rows="5" cols="103"></textarea>
			</div>
		</div>
</p>
<div class="clearfix"></div>
<br /><br />

<p class=MsoNormal>
		<div class="form-group" style='margin-left:3.5em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG class="col-sm-2 control-label">Цел на дипломната работа:</span></b>
			<div class="col-sm-8">
				 <textarea id="purpose" class="form-control" rows="5" cols="103"></textarea>
			</div>
		</div>
</p>
<div class="clearfix"></div>

<br /><br />

<p class=MsoNormal>
		<div class="form-group" style='margin-left:3.5em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG class="col-sm-2 control-label">Задачи, произтичащи от целта:</span></b>
			<div class="col-sm-8">
				 <textarea id="tasks" class="form-control" rows="5" cols="103"></textarea>
			</div>
		</div>
</p>
<div class="clearfix"></div>
<br /><br />

<p class=MsoNormal>
		<div class="form-group" style='margin-left:3.5em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG class="col-sm-2 control-label">Ограничаващи/облекчаващи условия:</span></b>
			<div class="col-sm-8">
				 <textarea id="restrictions" class="form-control" rows="5" cols="103"></textarea>
			</div>
		</div>
</p>
<div class="clearfix"></div>
<br /><br />
<p class=MsoNormal>
		<div class="form-group" style='margin-left:3.5em;font-family:"Times New Roman","serif";font-size:12.0pt;'>
			<b><span lang=BG class="col-sm-2 control-label">Срок за изпълнение:</span></b>
			<div class="col-sm-8">
				 <input type="date" id="endDate" class="form-control"/>
			</div>
		</div>
</p>
<div class="clearfix"></div>
<br /><br /><br /><br />

<p class=MsoNormal>
	<span lang=BG>Дата:<span id='currentDate'></span></span><span lang=BG style="padding-left: 450px;">Заявител:</span>
</p>

<br />

<p class=MsoNormal style="padding-left: 680px">	
	<span lang=BG>/студент/</span>
</p>

<br /><br />

<p class=MsoNormal style="padding-left: 680px">	
	<span lang=BG>/научен р-л/</span>
</p>

<br /><br />

<input type="hidden" id="isValid" />
<input type="hidden" id="requestType" />
<input type="hidden" id="hiddenName" />
<input type="hidden" id="hiddenSpec" />
<input type="hidden" id="hiddenNumber" />

</div>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="js/scripts.js"></script>
<script type="text/javascript">
	$(function(){
		
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth()+1; //January is 0!

		var yyyy = today.getFullYear();
		if(dd<10){
			dd='0'+dd;
			} 
		if(mm<10){
			mm='0'+mm;
		} 
		today = dd+'.'+mm+'.'+yyyy;
		
		$('#currentDate').text(today);
		
    	$.ajax({
    		url:" ../rest/thesisproposal",
    		type:'GET',
    		headers:{'User-Id':sessionStorage.userId},
    	}).done(function(data){
    		console.log(data);
    		if(typeof data.user!='undefined'){
    			var user=data.user;
    			$('#name').text(user.name);
    			$('#hiddenName').val(user.name);
    			$('#studentSpec').text(user.educationSubject);
    			$('#hiddenSpec').val(user.educationSubject);
    			$('#fNumber').text(user.studentIdentifier);
    			$('#hiddenNumber').val(user.studentIdentifier);
    		}
    		if(typeof data.teachers !='undefined'){
    			var teachers=data.teachers;
    			for(var i=0;i<teachers.length;i++){
    				$('#supervisorName').append(
    				'<option id="'+teachers[i].id+'">'+
    				teachers[i].name+', катедра '+teachers[i].department+
    				'</option>'		
    				);
    				
    				$('#consultant').append(
    	    				'<option id="'+teachers[i].id+'">'+
    	    				teachers[i].name+', катедра '+teachers[i].department+
    	    				'</option>'		
    	    				);
    			}
    		}
    		if(typeof data.thesisProposal!='undefined'){
    			var proposal=data.thesisProposal;
    			$('#requestType').val('PUT');
    			
    			$('#annotation').val(proposal.annotation);
    			$('#theme').val(proposal.subject);
    			$('#purpose').val(proposal.purpose);
    			$('#tasks').val(proposal.task);
    			$('#restrictions').val(proposal.restriction);
    			
    			var parseDate=proposal.executionDeadline.split(" ");

    			var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    			var dd,mm,yyyy;
    			
    			dd=parseDate[2];
    			yyyy=parseDate[5];
    			for(var i=0;i<months.length;i++){
    				if(months[i]==parseDate[1]){
    					mm=i+1;
    				}
    			}
    			
    			if(mm.length==1){
    				mm='0'+mm
    			}
    			
    			$('#endDate').val(yyyy+'-'+mm+'-'+dd);
    		}
    		else{
    			$('#requestType').val('POST');
    		}
    	}).fail(function( jqXHR, textStatus, errorThrown ) {
    		console.log("Error Message: "+errorThrown);
    	});
		
    
		//1st arg - the class of the input fields
		//2nd arg - the id of the hidden field
		validate('form-control','isValid');
	});
</script>

</body>

</html>

