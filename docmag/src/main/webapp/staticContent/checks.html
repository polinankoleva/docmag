<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>ФМИ - Информационна система</title>

    <!-- Bootstrap core CSS -->
    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
	
    <link href="styles.css" rel="stylesheet">
    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

	<header class="well span6 offset2 header">
	    <img id="logo-image" src="images/pop_su.png" alt="sofia university logo"></img>
		<div class="container">
	    <h1>Софийски Университет "Св. Климент Охридски"</br>
	       Факултет по Математика и Информатика</br>
	         <small>Информационна система</small>
	    </h1>
		</div>
	</header>
	
    <div class="greeting-line">
        <div class="container">
            <p>
                Добре дошъл, <a href="#" class="navbar-link">землянино</a>!
                <a href="#" class="navbar-link navbar-right">Изход</a>
            </p>
        </div>
    </div>
    
    <div class="container">
    
    <div id="checkboxes">
    
    <label><input type="checkbox" name="checkStudents" onclick="displayFormForStudents()" class="checkB" />  Справки за студенти   </label>
    <label style="margin-left:300px;"><input type="checkbox" name="checkTeachers" onclick="displayFormForTeachers()" class="checkB" />  Справки за преподаватели</label>
    
    </div>
    
    <div id="isStudent" style="display:none;">
    
	<p>Изберете начална дата: 
	    <input type="date" id="studentDate1" class="form-control"/>
	    <div style="margin-left:350px; margin-top: -70px;">Изберете крайна дата: 
	    <input type="date" id="studentDate2" style="margin-left: 30px;" class="form-control"/>
	    </div>
	</p>
	<br/>
	
	<p>Изберете преподавател: 
	
		<select class="form-control" id="leaderName">
            <option value="default" selected>Избери преподавател</option>
		</select>
	
	<div style="margin-left:350px; margin-top: -70px;">Изберете рецензент: 
		<select class="form-control" id="reviewerName">
            <option value="default" selected>Избери рецензент</option>
		</select>
	</div>
	</p>
	
	<button class="btn btn-primary">Търси...</button>
	
	</div>
    
    <div id="labelChecks" style="display:none;">Справки за студенти</div>
    
     
    
    <div id="isTeacher" style="display:none;">
    
         <p>Изберете начална дата: 
	    <input type="date" id="studentDate1" class="form-control"/>
	    <div style="margin-left:304px; margin-top: -70px;">Изберете крайна дата: 
	    <input type="date" id="studentDate2" style="margin-left: 30px;" class="form-control"/>
	    </div>
	
	<div style="margin-left:600px; margin-top: -62px;">Изберете преподавател: 
		<select class="form-control" id="leaderNamet">
            <option value="default" selected>Избери преподавател</option>
		</select>
	</div>
	</p>
	
	<button class="btn btn-primary">Търси...</button>
	
	</div>
    
    <div id="labelChecks2" style="display:none;">Справки за преподаватели</div>
    </div>
    
    <div id="searchResultsLabel">Резултати</div>
    
    <br/><br/><br/><br/><br/><br/><br/>

	<div id="searchResults">
	
	<table class="table">
        <thead>
          <tr>
            <th>Имена</th>
            <th>Факултетен номер</th>
            <th>Дата на защита</th>
          </tr>
        </thead>
        <tbody id="tableBody">
        </tbody>
      </table>
	
	</div>
	
	<br/><br/><br/><br/><br/><br/><br/>
	

      <footer class="navbar-fixed-bottom">
        <p>&copy; 2013-2014 ФМИ - Софийски университет "Св. Климент Охридски"</p>
      </footer>
    
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>	
	
	<script type="text/javascript">

	
	var $inputs = $(".checkB");

	$inputs.change(function()
	{
	    $inputs.not(this).prop('checked', false);
	});
	
	function displayFormForStudents(){
		
		$("#isStudent").show();
		$("#labelChecks").show();
		$("#isTeacher").hide();
		$("#labelChecks2").hide();
	
	}
function displayFormForTeachers(){
		
		$("#isTeacher").show();
		$("#labelChecks2").show();
		$("#isStudent").hide();
		$("#labelChecks").hide();
	}
	
	
	$(function(){
    	$.ajax({
    		url:" ../rest/users/allTeachers",
    		type:'GET',
     		//contentType: "application/json; charset=utf-8",
            //dataType: "json",
    	}).done(function(data){
    		console.log(data);
    		if(typeof data.teachers !='undefined'){
    			var teachers=data.teachers;
    			for(var i=0;i<teachers.length;i++){
    				$('#leaderName').append(
    				'<option id="'+teachers[i].id+'">'+
    				teachers[i].name+
    				'</option>'		
    				);
    				
    				$('#leaderNamet').append(
    	    				'<option id="'+teachers[i].id+'">'+
    	    				teachers[i].name+
    	    				'</option>'		
    	    				);
    				
    				
    				$('#reviewerName').append(
    	    				'<option id="'+teachers[i].id+'">'+
    	    				teachers[i].name+
    	    				'</option>'		
    	    				);
    			}
    		}
    	
    	});
    	
    });
	
//	$(function submitSearchFormStudents(){
		
	//	var startDateStudent = $("#studentDate1").val();
		//var endDateStudent = $("#studentDate2").val();
		//var leaderIdentifier = //TODO check how to get the id of the selected option;
		//var reviewerIdentifier = //TODO check how to get the id of the selected option;

	//	$.ajax({
   //		url:" ../rest/reports/graduated",
   // 		type:'GET',
   // 		headers:{'User-Id':'52d2e72efba3086eace878d9'},
   // 		data:{
   // 			'startDate':startDateStudent,
   // 			'endDate':endDateStudent,
   // 			'leaderId':leaderIdentifier,
   // 			'reviewerId':reviewerIdentifier,
   // 	  //dataType:"text",
   // 	}).done(function(data){
   // 		console.log(data);
   // 		if(typeof data.graduates !='undefined'){
   // 			var students=data.graduates;
   // 			for(var i=0;i<graduates.length;i++){
   // 				$('#tableBody').append(
   // 				'<tr><td>'+graduates[i].name+'></td><td>'+graduates[i].facultyNumber+'</td><td>'+graduates[i].defenceDate+'</td></tr>
    					
   // 				);
   // 			}
   // 		}
    	
   // 	});
    	
 //   });
	
	</script>
	
	
	</div> 
  </body>
</html>